import { Meta } from "@storybook/blocks";

<Meta title="Layout v5/Introduction" />

<style>{`
  .sbdocs.sbdocs-content {
    max-width: 720px;
  }
`}</style>

# Layout V5

Built for `material-ui v5`. This library exposes a group of enhanced Material UI components to build modern-web layout instantly.

We leverage high quality components from [Material UI](https://material-ui.com) and great interface
library from [React](https://reactjs.org/) to let you turn your idea into product.
From dashboard, to blog, to social webapp until mailbox layout. This library has proved to be compatible
with these convoluted layout.

### What's new in v5 (alpha)

> ðŸ’¡ only compatible with `@mui/material@v5` NOT `v4`

- leverage `@material-ui v5` built-in styling engine, emotion (default) or styled-components (the choice is your).
- bundle size reduction by ~30%. [Bundle phobia](https://bundlephobia.com/result?p=path/to/layout-core-v5)
  ![mui-treasury:layout](https://user-images.githubusercontent.com/18292247/119865137-9053ed00-bf45-11eb-9543-94cac9458c0d.png)

  > Compare with v4 by using create-react-app production build. Bundle size reduce from `49.73KB in v5` to `32.91KB in v5`.

- Support global theme through `material-ui` theme API. Take a look at [this example](/?path=/story/layout-example--global-theme)

- restructure the codebase which makes the setup simpler (no more builders, just plain object as scheme)

  ```jsx
  import { Header, Root } from "path/to/layout-core-v5";

  function App() {
    return (
      <Root
        scheme={{
          header: {
            config: {
              xs: {},
              md: {},
            },
          },
        }}
      >
        <Header>...</Header>
      </Root>
    );
  }
  ```

- replace multiple sidebars concept with left/right sidebar, so no need to provide id anymore. (also provide better DX in typescript)

  ```tsx
  import {
    EdgeSidebar,
    Header,
    Root,
    SidebarContent,
  } from "path/to/layout-core-v5";

  function App() {
    return (
      <Root scheme={scheme}>
        <EdgeSidebar anchor="left">
          <SidebarContent>Hello</SidebarContent>
        </EdgeSidebar>
      </Root>
    );
  }
  ```

- Maximum headers are three, `Header`, `TopHeader` and `Subheader`
- EdgeSidebar is render only one at a time (in v4, three variants are rendered and two are hidden by CSS)

### v4 summary highlight

A little bit from v3.
We had lessons learn from previous version (v3.3.4) that it has a lot of spaces to be improved.
These are major points that we try to achieve in v4.

- Reduce JS calculation and leverage css-in-js for server side rendering (no more blip at first paint)
- Keep the library lean as much as possible. Get rid of lodash and don't rely on specific css-in-js lib (jss is still used internally in Material UI, so we cannot remove it)
- Improve developer experience by rewriting with typescript and design new API
- Add more documentation & troubleshoot requested from developers (thanks everyone)
- Reduce bundle size and make it tree shakeable!
- `>=v4.4.0`, support built-in RTL from material-ui

  The whole bundle size at v4.0.0 is around `55kB` MINIFIED, `11kB` MINIFIED + GZIPPED, but if you use only some components it will reduce.
  This is an example of Dashboard Layout, built from `create-react-app`. The size of layout is reduced to `39kB`!.
  ![image](https://user-images.githubusercontent.com/18292247/81465369-f2836800-91f3-11ea-96da-28e7322e9c0d.png)

### The why part

I created this because

- It took me a lot of time to initialize dashboard layout when I have
  new projects or ideas to prove and Iâ€™m sure that a lot of you are the same as me.
- Sometimes it is hard to refactor because the structure is so poor
  because someone isnâ€™t deeply understand what he/she was doing, as a
  result, rewrite the whole layout which affect other parts of project and you heard your colleague shout "WTF"
  (it actually happened, at least in my experience).
- Because we need to be fast to let others continue our work, we
  frequently write poor and a lot of code. However, we say we donâ€™t
  have time to fix them. Eventually, spend all day paying technical
  debts.

### Objectives

It must be easy enough to use, however still be able to adjust to be compatible
with real word examples and usages. More importantly, it need to follow [Material specs](https://material.io/design/components/navigation-drawer.html#)
since we are 100% based on Material UI. Last but not least, responsive is a must.
