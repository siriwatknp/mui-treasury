import { Meta } from "@storybook/blocks";
import {
  applyHeaderStyles,
  applyInsetContainerStyles,
  applyInsetSidebarStyles,
  applyRootStyles,
  Content,
  Footer,
  Header,
  InsetAvoidingView,
  InsetContainer,
  InsetSidebar,
  InsetSidebarContent,
  Root,
} from "../../../blocks/layout-core-v6";

<Meta title="Layout v6/Configuration/Footer" />

# Footer

The Footer component must be a direct child of the Root component. It is used to display the [footer](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/footer) of the layout.

```jsx
import { Footer, Root } from "path/to/layout-core-v6";

<Root>
  <Footer>Footer</Footer>
</Root>;
```

## Usage with Inset Sidebar

When using the InsetSidebar with a [fixed](/docs/layout-v6-configuration-inset-sidebar--docs#fixed) or [absolute](/docs/layout-v6-configuration-inset-sidebar--docs#absolute) position,
you need wrap the Footer's content with `InsetAvoidingView` component to avoid the content being overlapped by the InsetSidebar.

```jsx
import { Footer, InsetAvoidingView, Root } from "path/to/layout-core-v6";

<Root>
  <Footer>
    <InsetAvoidingView>...</InsetAvoidingView>
  </Footer>
</Root>;
```

### Fixed InsetSidebar

Below is an example of a Footer with an InsetSidebar with a `fixed` position:

export function DemoInsetSidebarFixed() {
  return (
    <Root sx={{ overflow: "hidden", ...applyRootStyles({ height: "30vh" }) }}>
      <Header
        sx={{
          ...applyHeaderStyles({
            height: "64px",
          }),
          position: "sticky",
        }}
      >
        Header
      </Header>
      <Content sx={{ ...applyInsetContainerStyles() }}>
        <div>Content</div>
        <InsetSidebar
          position="fixed"
          sx={{
            ...applyInsetSidebarStyles({
              width: "256px",
            }),
          }}
        >
          <InsetSidebarContent>
            <div className="p-4">Inset sidebar</div>
          </InsetSidebarContent>
        </InsetSidebar>
      </Content>
      <Footer>
        <InsetAvoidingView>
          <h3>Footer</h3>
          <p>
            Quam lacus suspendisse faucibus interdum posuere lorem ipsum.
            Elementum eu facilisis sed odio morbi quis commodo. Id semper risus
            in hendrerit. Aenean euismod elementum nisi quis eleifend quam
            adipiscing vitae. Quis enim lobortis scelerisque fermentum dui. Arcu
            felis bibendum ut tristique et egestas quis ipsum. Mattis
            pellentesque id nibh tortor id aliquet lectus proin nibh. Blandit
            aliquam etiam erat velit scelerisque. Gravida arcu ac tortor
            dignissim convallis. Lobortis scelerisque fermentum dui faucibus.
            Odio ut enim blandit volutpat maecenas volutpat blandit aliquam.
          </p>
        </InsetAvoidingView>
      </Footer>
    </Root>
  );
}

<section className="demo-container">
  <DemoInsetSidebarFixed />
</section>

### Absolute InsetSidebar

Below is an example of a Footer with an InsetSidebar with an `absolute` position:

export function DemoInsetSidebarAbsolute() {
  return (
    <Root sx={{ ...applyRootStyles({ height: "30vh", fixedHeight: true }) }}>
      <Header
        sx={{
          ...applyHeaderStyles({
            height: "64px",
          }),
          p: 2,
          position: "sticky",
          top: 0,
          borderBottom: 1,
          borderColor: "divider",
        }}
      >
        Header
      </Header>
      <Content sx={{ ...applyInsetContainerStyles(), minHeight: 0, }}>
        <InsetSidebar
          position="absolute"
          sx={{
            ...applyInsetSidebarStyles({
              width: "256px",
            }),
          }}
        >
          <InsetSidebarContent>
            <div className="p-4">Inset sidebar</div>
          </InsetSidebarContent>
        </InsetSidebar>
        <div>Content</div>
      </Content>
      <Footer>
        <InsetAvoidingView>
          <input placeholder="Type here..." />
        </InsetAvoidingView>
      </Footer>
    </Root>

);
}

<section className="demo-container">
  <DemoInsetSidebarAbsolute />
</section>
